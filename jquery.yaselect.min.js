jQuery.fn.yaselect=function(d){d=d||{};return this.each(function(j,g){var a=jQuery(g).css({position:"absolute",top:0,left:0,zIndex:1}).addClass("yaselect-select"),b=jQuery('<div class="yaselect-wrap" tabindex="0"><div class="yaselect-current"></div></div>'),e=b.wrap('<div class="yaselect-anchor yaselect-open" style="position:relative;"></div>').parent(),f=function(){return a.find("option:nth("+(g.selectedIndex||0)+")").text()},h=b.find(".yaselect-current").text(f()),i=function(c){a.blur();h.text(f());
a.css({top:b.outerHeight()});c&&b.focus()};if(d.hoverOnly||window.navigator&&navigator.userAgent.match(/iphone|ipod|ipad/i)){e.toggleClass("yaselect-open yaselect-close");return a.before(e).css({opacity:0.0010}).change(function(){h.text(f())}).appendTo(e)}a.before(e).keydown(function(c){if(c.which==13||c.which==32){c.preventDefault();i(true)}}).change(function(){h.text(f())}).blur(function(){a.hide();e.toggleClass("yaselect-open yaselect-close")}).click(function(){if(a.is(":hidden")){e.toggleClass("yaselect-open yaselect-close");
a.show();setTimeout(function(){a.focus()})}else i(true)}).appendTo(e);b.mousedown(function(){a.click()}).keydown(function(c){if([13,32,37,38,39,40].indexOf(c.which)!=-1){c.preventDefault();a.click()}});g.size=Math.min(g.options.length,d.size||10);i()})};
