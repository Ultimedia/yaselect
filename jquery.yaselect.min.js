jQuery.fn.yaselect=function(d){d=d||{};return this.each(function(j,e){var a=jQuery(e).css({position:"absolute",top:0,left:0,zIndex:1}).addClass("yaselect-select"),b=jQuery('<div class="yaselect-wrap yaselect-open" tabindex="0"><div class="yaselect-current"></div></div>'),f=b.wrap('<div class="yaselect-anchor" style="position:relative;"></div>').parent(),g=b.find(".yaselect-current").text(e.value),h=function(){return a.find("option:nth("+(e.selectedIndex||0)+")").text()},i=function(c){a.blur();g.text(h());
a.css({top:b.outerHeight()});c&&b.focus()};if(d.hoverOnly||window.navigator&&navigator.userAgent.match(/iphone|ipod|ipad/i)){b.toggleClass("yaselect-open yaselect-close");return a.before(f).css({opacity:0.0010}).change(function(){g.text(h())}).appendTo(f)}a.before(f).keydown(function(c){if(c.which==13||c.which==32){c.preventDefault();i(true)}}).change(function(){g.text(h())}).blur(function(){a.hide();b.toggleClass("yaselect-open yaselect-close")}).click(function(){if(a.is(":hidden")){b.toggleClass("yaselect-open yaselect-close");
a.show();setTimeout(function(){a.focus()})}else i(true)}).appendTo(f);b.mousedown(function(){a.click()}).keydown(function(c){if(c.which!=9){c.preventDefault();a.click()}});e.size=d.size||5;i()})};
